#include <stdio.h>
#include <Windows.h>
#include <time.h>
#include <conio.h>
void MGfunction();
void desktop();
void movefunction(int, int, int);

char win[50][200]
{
	{"                                                                                                                        "},
	{"                                                                                                                        "},
	{"                                                                                                                        "},
	{"                                                                                                                        "},
	{"                                                                                                                        "},
	{"                                                                                                                        "},
	{"                                                                                                                        "},
	{"                                      ####   ####             #####      ####       "},
	{"                                        ### ###      ###       ####      ###        "},
	{"                                         #####      ## ##      ####      ###        "},
	{"                                          ###      ##   ##     ####      ###        "},
	{"                                          ###     ##     ##    ####      ###        "},
	{"                                          ###     ##     ##    ####      ###        "},
	{"                                          ###      ##   ##     ####      ###        "},
	{"                                          ###       ## ##      ####      ###        "},
	{"                                          ###        ###       ####      ###        "},
	{"                                          ###                  #####   #####        "},
	{"                                         #####                  ##########          "},
	{"                                                                                    "},
	{"                                      ###          #####         ###  ####  ##    ##"},
	{"                                       ###        ### ###       ###    ##   ####  ##"},
	{"                                        ###      ###   ###     ###     ##   ## ## ##"},
	{"                                         ###    ###     ###   ###      ##   ##  ####"},
	{"                                          ###  ###       ### ###       ##   ##   ###"},
	{"                                           ######         #####       ####  ##    ##"},
};

char HNTface[50][200]
{
	{"                                                                                                                        "},
	{"                                                                                                                        "},
	{"                                                                                                                        "},
	{"                                                                                                                        "},
	{"                                                                                                                        "},
	{"                                                                                                                        "},
	{"                                                                                                                        "},
	{"                                      #########################################################################         "},
	{"                                      #***********************************************************************#         "},
	{"                                      #                                                                       #         "},
	{"                                      #                                                                       #         "},
	{"                                      #                                                                       #         "},
	{"                                      #                _                 _                 _                  #         "},
	{"                                      #               | |               | |               | |                 #         "},
	{"                                      #               | |               | |               | |                 #         "},
	{"                                      #               | |               | |               | |                 #         "},
	{"                                      #               | |               | |               | |                 #         "},
	{"                                      #               | |               | |               | |                 #         "},
	{"                                      #               | |               | |               | |                 #         "},
	{"                                      #               | |               | |               | |                 #         "},
	{"                                      #               | |               | |               | |                 #         "},
	{"                                      #               | |               | |               | |                 #         "},
	{"                                      #               | |               | |               | |                 #         "},
	{"                                      #               | |               | |               | |                 #         "},
	{"                                      #               | |               | |               | |                 #         "},
	{"                                      #               | |               | |               | |                 #         "},
	{"                                      #|==============+ +===============+ +===============+ +================|#         "},
	{"                                      #+--—————— + ————————+———————— + ———————--+#         "},
	{"                                      #########################################################################         "}
};

char MGface[50][200]
{
	{"                                                                                                                        "},
	{"                                                                                                                        "},
	{"                                                                                                                        "},
	{"                                                                                                                        "},
	{"                                                                                                                        "},
	{"                                                                                                                        "},
	{"                                                                                                                        "},
	{"                                      ######################################################### "},
	{"                                      #I======================================================I#"},
	{"                                      #I######################################################I#"},
	{"                                      #I##########   #########      ##########################I#"},
	{"                                      #I#########  #   ##      ####   ###    #################I#"},
	{"                                      #I##########  ##    ###########     ##  ################I#"},
	{"                                      #I#######      ##  ####   #############  ###############I#"},
	{"                                      #I######  #  #########  #  #######       ###############I#"},
	{"                                      #I#####  ###  #######  ###  #####  #####  ##############I#"},
	{"                                      #I####  #####  #####  #####  ##   ####### ##############I#"},
	{"                                      #I###    #####  ###  #######       ####      ###########I#"},
	{"                                      #I#   ##  #####  #  #########  ############   ##########I#"},
	{"                                      #I#O #####  #####         ######   #######   ###########I#"},
	{"                                      #I######  ##########   ######### #######   #############I#"},
	{"                                      #I######  ############  ######## ######  ###############I#"},
	{"                                      #I#####   ###########  #########  ######   #############I#"},
	{"                                      #I##### ###########   ##########                          "},
	{"                                      #I##### #########   ############ #######################I#"},
	{"                                      #I#####                          #######################I#"},
	{"                                      #I#######  ##### ############### #######################I#"},
	{"                                      #I########  ####  ############## #######################I#"},
	{"                                      #I#######  ###### ######################################I#"},
	{"                                      #I########        ######################################I#"},
	{"                                      #I######################################################I#"},
	{"                                      #I======================================================I#"},
	{"                                      ##########################################################"},
};
/* 
char TXZface[50][100]
{
	printf("#########################################################################\n");
	printf("#                                                                       #\n");
	printf("#                                                                       #\n");
	printf("#                                                                       #\n");
	printf("#                                                                       #\n");
	printf("#                                                                       #\n");
	printf("#                                                                       #\n");
	printf("#                                                                       #\n");
	printf("#                                                                       #\n");
	printf("#                                                                       #\n");
	printf("#                                                                       #\n");
	printf("#                                                                       #\n");
	printf("#                                                                       #\n");
	printf("#                                                                       #\n");
	printf("#                                                                       #\n");
	printf("#                                                                       #\n");
	printf("#                                                                       #\n");
	printf("#                                                                       #\n");
	printf("#########################################################################\n");
};
*/
void desktop()
{
	int i,j;
//	system("mode con cols=20 lines=20");
	printf("1、汉诺塔\n");
	printf("2、迷宫\n");
	printf("3、推箱子\n");
	

	printf("choose your game!!!\n");
	switch ( getch() )
	{
		case'1':system("color 70");
				system("mode con cols=150 lines=60");
				for( i=0; i<50; i++ ){
					printf("%s\n",HNTface[i]);
				}
				break;
		case'2':MGfunction();
				break;
	}

}

void MGfunction()
{
	int i,x,y,p,q;
	char ch;
	x = 19; y = 41; p = 23; q = 95;
	
	MGface[23][95] = ' ';
	MGface[19][41] = 'O';
 	system("mode con cols=125 lines=50");
	for ( i=0; i<50; i++ )
		puts(MGface[i]);
	while ( x!=p || y!=q ) {
			ch = getch();
		system("cls");
		for ( i=0; i<50; i++ )
			puts(MGface[i]);
			movefunction(x,y,ch);
	}
	system("cls");
	for ( i=0; i<50; i++ ) {
		puts(win[i]);
	}
//	Sleep(5000);
	system("cls");
	printf("按任意键继续：\n");
	getch();
	desktop();
}

void movefunction(int x, int y, int ch)
{
	if ( ch == 's' ) {
			if ( MGface[x+1][y]!='#' ) {
				MGface[x][y] = ' ';
				x++;
				MGface[x][y] = 'O';
			}
		}
		
		if ( ch == 'w' ) {
			if ( MGface[x-1][y]!='#' ) {
				MGface[x][y] = ' ';
				x--;
				MGface[x][y] = 'O';
			}
		}
		
		if ( ch == 'a' ) {
			if ( MGface[x][y-1]!='#' ) {
				MGface[x][y] = ' ';
				y--;
				MGface[x][y] = 'O';
			}
		}
		
		if ( ch == 'd' ) {
			if ( MGface[x][y+1]!='#' ) {
				MGface[x][y] = ' ';
				y++;
				MGface[x][y] = 'O';
			}
		}
}

int main()
{
	desktop();
	
	return 0;
}

/*思路：设置一个可以
		在主界面显示可以玩的game
		用户输入之后，进入所指示的游戏内部
		汉诺塔
		推箱子
		迷宫
*/
