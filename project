#include <stdio.h>
#include <Windows.h>
#include <time.h>
#include <conio.h>
void MGfunction();
void desktop();
void movefunction(int ,int ,int ,int );

//游戏图像的定义
char win[50][200]
{
	{"                                                                                                                        "},
	{"                                                                                                                        "},
	{"                                                                                                                        "},
	{"                                                                                                                        "},
	{"                                                                                                                        "},
	{"                                                                                                                        "},
	{"                                                                                                                        "},
	{"                                      ####   ####             #####      ####       "},
	{"                                        ### ###      ###       ####      ###        "},
	{"                                         #####      ## ##      ####      ###        "},
	{"                                          ###      ##   ##     ####      ###        "},
	{"                                          ###     ##     ##    ####      ###        "},
	{"                                          ###     ##     ##    ####      ###        "},
	{"                                          ###      ##   ##     ####      ###        "},
	{"                                          ###       ## ##      ####      ###        "},
	{"                                          ###        ###       ####      ###        "},
	{"                                          ###                  #####   #####        "},
	{"                                         #####                  ##########          "},
	{"                                                                                    "},
	{"                                      ###          #####         ###  ####  ##    ##"},
	{"                                       ###        ### ###       ###    ##   ####  ##"},
	{"                                        ###      ###   ###     ###     ##   ## ## ##"},
	{"                                         ###    ###     ###   ###      ##   ##  ####"},
	{"                                          ###  ###       ### ###       ##   ##   ###"},
	{"                                           ######         #####       ####  ##    ##"},
};

char HNTface[50][200]
{
	{"                                                                                                                        "},
	{"                                                                                                                        "},
	{"                                                                                                                        "},
	{"                                                                                                                        "},
	{"                                                                                                                        "},
	{"                                                                                                                        "},
	{"                                                                                                                        "},
	{"                                      #########################################################################         "},
	{"                                      #***********************************************************************#         "},
	{"                                      #                                                                       #         "},
	{"                                      #                                                                       #         "},
	{"                                      #                                                                       #         "},
	{"                                      #                _                 _                 _                  #         "},
	{"                                      #               | |               | |               | |                 #         "},
	{"                                      #               | |               | |               | |                 #         "},
	{"                                      #               | |               | |               | |                 #         "},
	{"                                      #               | |               | |               | |                 #         "},
	{"                                      #               | |               | |               | |                 #         "},
	{"                                      #               | |               | |               | |                 #         "},
	{"                                      #               | |               | |               | |                 #         "},
	{"                                      #               | |               | |               | |                 #         "},
	{"                                      #               | |               | |               | |                 #         "},
	{"                                      #               | |               | |               | |                 #         "},
	{"                                      #               | |               | |               | |                 #         "},
	{"                                      #               | |               | |               | |                 #         "},
	{"                                      #               | |               | |               | |                 #         "},
	{"                                      #|==============+ +===============+ +===============+ +================|#         "},
	{"                                      #+--—————— + ————————+———————— + ———————--+#         "},
	{"                                      #########################################################################         "}
};

char MGface[50][200]
{
	{"                                                                                                                        "},
	{"                                                                                                                        "},
	{"                                                                                                                        "},
	{"                                                                                                                        "},
	{"                                                                                                                        "},
	{"                                                                                                                        "},
	{"                                                                                                                        "},
	{"                                      ######################################################### "},
	{"                                      #I======================================================I#"},
	{"                                      #I######################################################I#"},
	{"                                      #I##########   #########      ##########################I#"},
	{"                                      #I#########  #   ##      ####   ###    #################I#"},
	{"                                      #I##########  ##    ###########     ##  ################I#"},
	{"                                      #I#######      ##  ####   #############  ###############I#"},
	{"                                      #I######  #  #########  #  #######       ###############I#"},
	{"                                      #I#####  ###  #######  ###  #####  #####  ##############I#"},
	{"                                      #I####  #####  #####  #####  ##   ####### ##############I#"},
	{"                                      #I###    #####  ###  #######       ####      ###########I#"},
	{"                                      #I#   ##  #####  #  #########  ############   ##########I#"},
	{"                                      #I#O #####  #####         ######   #######   ###########I#"},
	{"                                      #I######  ##########   ######### #######   #############I#"},
	{"                                      #I######  ############  ######## ######  ###############I#"},
	{"                                      #I#####   ###########  #########  ######   #############I#"},
	{"                                      #I##### ###########   ##########                          "},
	{"                                      #I##### #########   ############ #######################I#"},
	{"                                      #I#####                          #######################I#"},
	{"                                      #I#######  ##### ############### #######################I#"},
	{"                                      #I########  ####  ############## #######################I#"},
	{"                                      #I#######  ###### ######################################I#"},
	{"                                      #I########        ######################################I#"},
	{"                                      #I######################################################I#"},
	{"                                      #I======================================================I#"},
	{"                                      ##########################################################"},
};
/* 
char TXZface[50][100]
{
	printf("#########################################################################\n");
	printf("#                                                                       #\n");
	printf("#                                                                       #\n");
	printf("#                                                                       #\n");
	printf("#                                                                       #\n");
	printf("#                                                                       #\n");
	printf("#                                                                       #\n");
	printf("#                                                                       #\n");
	printf("#                                                                       #\n");
	printf("#                                                                       #\n");
	printf("#                                                                       #\n");
	printf("#                                                                       #\n");
	printf("#                                                                       #\n");
	printf("#                                                                       #\n");
	printf("#                                                                       #\n");
	printf("#                                                                       #\n");
	printf("#                                                                       #\n");
	printf("#                                                                       #\n");
	printf("#########################################################################\n");
};
*/
//游戏函数的定义
void desktop()									//定义主界面函数
{
	int i,j;
//	system("mode con cols=20 lines=20");		//可以设置显示框的大小
	printf("1、汉诺塔\n");
	printf("2、迷宫\n");
	printf("3、推箱子\n");
	

	printf("choose your game!!!\n");
	switch ( getch() )							//使用switch函数实现选择游戏的过程
	{
		case'1':system("color 70");
				system("mode con cols=150 lines=60");
				for( i=0; i<50; i++ ){
					printf("%s\n",HNTface[i]);
				}
				break;
		case'2':MGfunction();
		case'3':TXZfunction();
				break;
	}

}

void MGfunction()								//定义迷宫游戏
{
	int i,x,y,p,q;
	char ch;
	x = 19; y = 41; p = 23; q = 95;
	
	MGface[23][95] = ' ';
	MGface[19][41] = 'O';
 	system("mode con cols=125 lines=50");		
	for ( i=0; i<50; i++ )
		puts(MGface[i]);
	movefunction(x,y,p,q);
	
	system("cls");
	for ( i=0; i<50; i++ ) {
		puts(win[i]);
	}
//	Sleep(5000);								//在获胜界面暂停几秒，测试时可以不使用，正式使用时要使用
	system("cls");
	printf("按任意键继续：\n");
	getch();
	desktop();
}

void movefunction(int x,int y,int p,int q)		//定义游戏使用s、w、a、d进行移动
{
	int i,ch;
	
	while ( x!=p || y!=q ) {
			ch = getch();
		if ( ch == 's' ) {						//若键盘键入了一个s之后进入循环，
			if ( MGface[x+1][y]!='#' ) {		//判断你的下面的位置是不是#，若是则不能移动，若不是则进入循环
				MGface[x][y] = ' ';				//将你的位置变为空格，x++，将你的下面的位置变为你；以下类似
				x++;
				MGface[x][y] = 'O';
			}
		}
		
		if ( ch == 'w' ) {
			if ( MGface[x-1][y]!='#' ) {
				MGface[x][y] = ' ';
				x--;
				MGface[x][y] = 'O';
			}
		}
		
		if ( ch == 'a' ) {
			if ( MGface[x][y-1]!='#' ) {
				MGface[x][y] = ' ';
				y--;
				MGface[x][y] = 'O';
			}
		}
		
		if ( ch == 'd' ) {
			if ( MGface[x][y+1]!='#' ) {
				MGface[x][y] = ' ';
				y++;
				MGface[x][y] = 'O';
			}
		}
		system("cls");
		for ( i=0; i<50; i++ )					//输出移动后的图像，来实现移动（缺点：会出现闪屏的情况）
			puts(MGface[i]);
	}
}

int main()
{
	desktop();
	
	return 0;
}

/*思路：设置一个可以
		在主界面显示可以玩的game
		用户输入之后，进入所指示的游戏内部
		汉诺塔
		推箱子
		迷宫
*/
